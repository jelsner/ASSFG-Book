---
title: "Flood mapping"
output: html_document
editor_options: 
  chunk_output_type: console
---

From: https://www.ahmadoudicko.com/posts/2020/09/flood-mapping-and-rapid-impact-assessment-in-niamey/

Climate change already impacts the Sahel region with an increase in the occurrence of extreme events such as floods. In Niger, these floods events usually happens along the Niger river. In Niamey, the heavy rains of the end of August and early September resulted in extreme flooding along the river path.

## R packages required for the analysis

The following packages will be used for this analysis.
```{r}
library(tidyverse)
library(sf)
library(stars)
library(sen2r)
library(rhdx)
library(mapview)
library(units)
library(snapbox)
library(ggthemes)
```

The packages rhdx and snapbox are not yet on CRAN, you will need the remotes package to get them.
```{r}
remotes::install_github("dickoa/rhdx")
remotes::install_github("anthonynorth/snapbox")
```

This analysis is based on a UN-SPIDER tutorial on flood mapping using Sentinel S2 data. In the original article, QGIS was used to map flood extent, here, we are going to do the same analysis using R.

## Area of interest

We will restrict this analysis to Niamey and its surrounding where the flood impacted many people lives. The bounding box of the study area can be downloaded here.

```{r}
bbox_url <- "https://tinyurl.com/yyobbc58"
bbox <- read_sf(bbox_url)
ggplot() +
  layer_mapbox(bbox,
               map_style = mapbox_satellite_streets())
```